---
title: financial-calendar ì°¨íŠ¸ ì ìš©ê¸°(chart.js)
date: 2024-11-19
desc: ì§€ì¶œ ì¹´í…Œê³ ë¦¬ë³„ ì°¨íŠ¸ë¥¼ ì ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.
thumbnail: /og?title=financial_calendar&desc=ì°¨íŠ¸ ì ìš©ê¸°
---

> - [financial-calendar ê¹ƒí—ˆë¸Œ](https://github.com/choiwonseokgit/financial-calendar) 
> - [financial-calendar ë§í¬](https://www.financial-calendar-cws.store/)

### ğŸ“Œ ì°¨íŠ¸ ì ìš©í•˜ê¸°
> ì›”ë³„ ì§€ì¶œ, ì—°ë³„ ì§€ì¶œì„ ì‹œê°ì ìœ¼ë¡œ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ ì°¨íŠ¸ë¥¼ ì ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¤‘ ìœ ëª…í•œ chart.jsì˜ ë¦¬ì•¡íŠ¸ ë²„ì „ì¸ `react-chartjs-2`ë¥¼ ë„ì…í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ë„ë„› ì°¨íŠ¸ë¥¼ ì´ìš©í•  ê²ƒì´ë©° ê¹”ë”í•˜ê²Œ ì ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.

### ğŸ“Œ ì„¤ì¹˜
`chart.js` ì™€ `react-chartjs-2` ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤. ì¶”ê°€ë¡œ ì°¨íŠ¸ì—ì„œ ê° ë°ì´í„° í•­ëª©ì˜ ë¼ë²¨ì„ ë³´ì—¬ì£¼ë ¤ë©´ `chartjs-plugin-datalabels` ë¼ëŠ” ì¶”ê°€ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
```bash
npm i chart.js react-chartjs-2 @types/chart.js chartjs-plugin-datalabels
```

> react-chartjs-2 ë§í¬: https://react-chartjs-2-two.vercel.app/
chartjs-plugin-datalabels ë§í¬: https://chartjs-plugin-datalabels.netlify.app/

### ğŸ“Œ ì°¨íŠ¸ ì ìš©
**1. ì´ˆê¸° ì„¸íŒ…**
`chart.js`ì—ëŠ” `Line`, `Bar`, `Bubble`, `Doughnut` ë“± ë‹¤ì–‘í•œ ì°¨íŠ¸ë“¤ì´ ìˆëŠ”ë° ì €ëŠ” Doughnut ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤. (Doughnut ì°¨íŠ¸ê°€ ê°€ì¥ ì˜ˆë» ë³´ì´ë„¤ìš”)
`react-chartjs-2` ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Doughnut ì»´í¬ë„ŒíŠ¸ë¥¼ importí•˜ê³ , ì¶”ê°€ë¡œ ì„¤ì¹˜í•œ chartjs-plugin-datalabels í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ë ¤ê³  ChartDataLabelsë„ í•¨ê»˜ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©í•˜ê¸° ìœ„í•´, ChartJS.register() í•¨ìˆ˜ë¡œ ë“±ë¡í–ˆê³  ì¶”ê°€ë¡œ í•„ìš”í•œ ArcElement, Tooltip, Legend, Title ëª¨ë“ˆ ë˜í•œ ë“±ë¡í–ˆìŠµë‹ˆë‹¤. ë“±ë¡í•˜ì§€ ì•Šìœ¼ë©´ ì°¨íŠ¸ì— ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
```tsx
import { Doughnut } from 'react-chartjs-2';
import ChartDataLabels from "chartjs-plugin-datalabels";
import {
  Chart as ChartJS,
  Title,
  ArcElement,
  Tooltip,
  Legend,
  ChartOptions,
  InteractionItem,
} from 'chart.js';

ChartJS.register(ArcElement, Tooltip, Legend, ChartDataLabels, Title);

export const options = {
  plugins: [ChartDataLabels],
};

// ...
export const DoughnutChart = () => {
  return <Doughnut options={options} data={data} />;
};
```

**2. ë°ì´í„° ì ìš© ë° datalabels ì„¤ì •**

**ë°ì´í„° ì ìš©**
chartDataëŠ” ì°¨íŠ¸ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ êµ¬ì„±í•´ ì „ë‹¬í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ë‹¬ë ¥ì˜ ì†Œë¹„ ì¹´í…Œê³ ë¦¬ê°€ ì´ 17ê°€ì§€ì—¬ì„œ, ê°ê°ì˜ ì¹´í…Œê³ ë¦¬ì— ëŒ€ì‘í•˜ëŠ” backgroundColorì™€ borderColor ë°°ì—´ì„ 17ê°œë¡œ ë§Œë“¤ì–´ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. dataëŠ” ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ì†Œë¹„ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ê° ì¹´í…Œê³ ë¦¬ë³„ ì†Œë¹„ ê¸ˆì•¡ì„ ì°¨íŠ¸ì— í‘œì‹œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
```tsx
export const BACKGROUND_COLORS = [
  'rgba(92, 160, 143, 0.2)',
  'rgba(255, 99, 132, 0.2)',
  'rgba(54, 162, 235, 0.2)',
  ...
];

export const BORDER_COLORS = [
  'rgba(92, 160, 143, 1)',
  'rgba(255, 99, 132, 1)',
  'rgba(54, 162, 235, 1)',
  ...
];

  const chartData = {
    labels,
    datasets: [
      {
        label: 'ê¸ˆì•¡', // ë°ì´í„°ì…‹ì˜ ì´ë¦„ìœ¼ë¡œ, ì°¨íŠ¸ì˜ ë²”ë¡€ì— í‘œì‹œë¨
        data, // spendingMoneys
        backgroundColor: BACKGROUND_COLORS,
        borderColor: BORDER_COLORS,
        borderWidth: 1,
        datalabels: {
          display: true,
        },
      },
    ],
  };

 const options: ChartOptions<'doughnut'> = {
    plugins: {
      datalabels: {
        color: 'black',
        display: true,
        font: {
          size: 12,
        },
        formatter: (value: number, context) => {
          const label = context.chart.data.labels?.[context.dataIndex] || '';
          const total = spendingMoneysQueryData?.total as number;
          return `${label}\n${makePercentage(value, total)}`;
        },
        textAlign: 'center',
      },
      ...
  };

 return (
    <S.Container {...pageTransition}>
     		...
              <Doughnut
                ref={chartRef}
                options={options}
                data={chartData}
              />
     </S.Container>
  );
 }
```

**datalabels ì„¤ì •**
ì´ì œ ì°¨íŠ¸ì˜ datalabelsì— ëŒ€í•œ ì†ì„±ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤. ê° í•­ëª©ì— ëŒ€í•œ ë°ì´í„°ëŠ” formatter í•¨ìˆ˜ë¥¼ í†µí•´ í˜„ì¬ dataì— í•´ë‹¹í•˜ëŠ” value ê°’ê³¼ ê·¸ dataì˜ labelsì˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆëŠ” context ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. context.dataIndexë¥¼ í†µí•´ indexë¥¼ ë°›ì•„ì™€ì„œ í•´ë‹¹ í•­ëª©ì˜ labelì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  valueì™€ totalì„ í†µí•´ í¼ì„¼íŠ¸ë¥¼ ê³„ì‚°í•œ í›„ í•´ë‹¹í•˜ëŠ” í•­ëª©ì˜ labelê³¼ ì†Œë¹„ ë¹„ìœ¨ì´ ë‚˜ì˜¤ê²Œë” êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
const makePercentage = (value: number, total: number) => {
  return `${((value / total) * 100).toFixed(1)}%`;
};


 const options: ChartOptions<'doughnut'> = {
    plugins: {
      datalabels: {
        color: 'black',
        display: true,
        font: {
          size: 12,
        },
        formatter: (value: number, context) => {
          const label = context.chart.data.labels?.[context.dataIndex] || '';
          const total = spendingMoneysQueryData?.total as number;
          return `${label}\n${makePercentage(value, total)}`;
        },
        textAlign: 'center',
      },
      ...
  };
 return (
    <S.Container {...pageTransition}>
     		...
              <Doughnut
                ref={chartRef}
                options={options}
                data={chartData}
              />
     </S.Container>
  );
 }
```
### ğŸ“Œ ê²°ê³¼
> ìµœì¢… ì™„ì„± í™”ë©´ ì…ë‹ˆë‹¤ğŸ˜Š  
![](https://velog.velcdn.com/images/css0325/post/fc614f19-45a6-49db-8ce2-8b2a27c9caf7/image.png)



ì„±ê³µì ìœ¼ë¡œ ì°¨íŠ¸ë¥¼ ë„ì…í•˜ì—¬ ì†Œë¹„ ì§€ì¶œì„ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•˜ê¸° ë”ìš± ì‰¬ì›Œì¡ŒìŠµë‹ˆë‹¤!ğŸ™Œ
ê³µì‹ë¬¸ì„œê°€ ì˜ ë˜ì–´ìˆì–´ì„œ ì°¨íŠ¸ë¥¼ ì ìš©í•˜ëŠ”ë° ì–´ë µì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œ ì°¨íŠ¸ë¥¼ ë„ì…í•  ê²½ìš°ê°€ ìˆì„ë•Œ chart.jsë¥¼ ì˜ í™œìš©í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

